<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ProGit | NMSN</title>
    <meta name="description" content="Somebody has to win, so why not be me?">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/favicon.ico">
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?6594ba1364804631f0a8fd4452766fed";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  <script aysnc="true" src="https://www.googletagmanager.com/gtag/js?id=UA-127895888-1"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-127895888-1');
  </script>
    
    <link rel="preload" href="/assets/css/0.styles.ec7a9dc7.css" as="style"><link rel="preload" href="/assets/js/app.a3917c08.js" as="script"><link rel="preload" href="/assets/js/2.143bf0e2.js" as="script"><link rel="preload" href="/assets/js/32.633ca84c.js" as="script"><link rel="prefetch" href="/assets/js/10.bfb12f17.js"><link rel="prefetch" href="/assets/js/11.95c30092.js"><link rel="prefetch" href="/assets/js/12.02d03ade.js"><link rel="prefetch" href="/assets/js/13.ed7b9bad.js"><link rel="prefetch" href="/assets/js/14.8b04c144.js"><link rel="prefetch" href="/assets/js/15.62e6c8b5.js"><link rel="prefetch" href="/assets/js/16.58442e8f.js"><link rel="prefetch" href="/assets/js/17.e5bd374d.js"><link rel="prefetch" href="/assets/js/18.aadb3349.js"><link rel="prefetch" href="/assets/js/19.8cb53d4b.js"><link rel="prefetch" href="/assets/js/20.24639fc6.js"><link rel="prefetch" href="/assets/js/21.f95ffdf3.js"><link rel="prefetch" href="/assets/js/22.2482e250.js"><link rel="prefetch" href="/assets/js/23.2e87cad5.js"><link rel="prefetch" href="/assets/js/24.ac878c31.js"><link rel="prefetch" href="/assets/js/25.5be9f82b.js"><link rel="prefetch" href="/assets/js/26.2a5b4ac3.js"><link rel="prefetch" href="/assets/js/27.935732a6.js"><link rel="prefetch" href="/assets/js/28.c12cbcea.js"><link rel="prefetch" href="/assets/js/29.5b94311f.js"><link rel="prefetch" href="/assets/js/3.13e2822a.js"><link rel="prefetch" href="/assets/js/30.f4d6df45.js"><link rel="prefetch" href="/assets/js/31.bf46b8c3.js"><link rel="prefetch" href="/assets/js/33.e267b1b5.js"><link rel="prefetch" href="/assets/js/34.83fdc5e8.js"><link rel="prefetch" href="/assets/js/35.2078f29f.js"><link rel="prefetch" href="/assets/js/36.cfbb8f18.js"><link rel="prefetch" href="/assets/js/37.c832ebab.js"><link rel="prefetch" href="/assets/js/38.665cfa69.js"><link rel="prefetch" href="/assets/js/39.e5a858e9.js"><link rel="prefetch" href="/assets/js/4.5a3029b5.js"><link rel="prefetch" href="/assets/js/40.e32b8d9a.js"><link rel="prefetch" href="/assets/js/41.b05a12ad.js"><link rel="prefetch" href="/assets/js/42.b88c39a2.js"><link rel="prefetch" href="/assets/js/43.7b60d519.js"><link rel="prefetch" href="/assets/js/44.2f2414b2.js"><link rel="prefetch" href="/assets/js/45.85718f44.js"><link rel="prefetch" href="/assets/js/46.2bc30dd4.js"><link rel="prefetch" href="/assets/js/47.d15abaed.js"><link rel="prefetch" href="/assets/js/48.1e4e667c.js"><link rel="prefetch" href="/assets/js/49.6b1a9b49.js"><link rel="prefetch" href="/assets/js/5.ed6093fe.js"><link rel="prefetch" href="/assets/js/50.d3cc69ed.js"><link rel="prefetch" href="/assets/js/51.5c6a9aaf.js"><link rel="prefetch" href="/assets/js/52.fac8e285.js"><link rel="prefetch" href="/assets/js/53.e52aa3fd.js"><link rel="prefetch" href="/assets/js/54.18b8b153.js"><link rel="prefetch" href="/assets/js/55.67f9bbbf.js"><link rel="prefetch" href="/assets/js/56.1a846f2d.js"><link rel="prefetch" href="/assets/js/57.6a72fd81.js"><link rel="prefetch" href="/assets/js/58.85b90b3e.js"><link rel="prefetch" href="/assets/js/59.f66f3400.js"><link rel="prefetch" href="/assets/js/6.6b149b80.js"><link rel="prefetch" href="/assets/js/60.7f20d436.js"><link rel="prefetch" href="/assets/js/61.2070b510.js"><link rel="prefetch" href="/assets/js/62.dbcc46f4.js"><link rel="prefetch" href="/assets/js/7.473a6114.js"><link rel="prefetch" href="/assets/js/8.0cbdd451.js"><link rel="prefetch" href="/assets/js/9.8148293e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ec7a9dc7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">NMSN</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/tech/" class="nav-link">
  快查总结
</a></div><div class="nav-item"><a href="/excerpt/" class="nav-link">
  摘录
</a></div><div class="nav-item"><a href="/interviewQuestions/" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/readingNotes/" class="nav-link router-link-active">
  读书笔记
</a></div><div class="nav-item"><a href="/work/" class="nav-link">
  工作总结
</a></div> <a href="https://github.com/nmsn" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/tech/" class="nav-link">
  快查总结
</a></div><div class="nav-item"><a href="/excerpt/" class="nav-link">
  摘录
</a></div><div class="nav-item"><a href="/interviewQuestions/" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/readingNotes/" class="nav-link router-link-active">
  读书笔记
</a></div><div class="nav-item"><a href="/work/" class="nav-link">
  工作总结
</a></div> <a href="https://github.com/nmsn" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>读书笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/readingNotes/Linux.html" class="sidebar-link">鸟哥的Linux私房菜基础学习篇</a></li><li><a href="/readingNotes/了不起的Nodejs.html" class="sidebar-link">了不起的Node.js</a></li><li><a href="/readingNotes/深入浅出Nodejs.html" class="sidebar-link">深入浅出Nodejs</a></li><li><a href="/readingNotes/代码整洁之道.html" class="sidebar-link">代码整洁之道</a></li><li><a href="/readingNotes/HTTP权威指南.html" class="sidebar-link">HTTP权威指南</a></li><li><a href="/readingNotes/ProGit.html" class="active sidebar-link">ProGit</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/readingNotes/ProGit.html#起步" class="sidebar-link">起步</a></li><li class="sidebar-sub-header"><a href="/readingNotes/ProGit.html#git分支" class="sidebar-link">Git分支</a></li><li class="sidebar-sub-header"><a href="/readingNotes/ProGit.html#服务器上的git" class="sidebar-link">服务器上的Git</a></li><li class="sidebar-sub-header"><a href="/readingNotes/ProGit.html#分布式git" class="sidebar-link">分布式Git</a></li><li class="sidebar-sub-header"><a href="/readingNotes/ProGit.html#git工具" class="sidebar-link">Git工具</a></li><li class="sidebar-sub-header"><a href="/readingNotes/ProGit.html#自定义git" class="sidebar-link">自定义Git</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="progit"><a href="#progit" aria-hidden="true" class="header-anchor">#</a> ProGit</h1> <h2 id="起步"><a href="#起步" aria-hidden="true" class="header-anchor">#</a> 起步</h2> <h3 id="初次运行git前的配置"><a href="#初次运行git前的配置" aria-hidden="true" class="header-anchor">#</a> 初次运行Git前的配置</h3> <h4 id="用户信息"><a href="#用户信息" aria-hidden="true" class="header-anchor">#</a> 用户信息</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> config --global user.name xxx
<span class="token function">git</span> config --global user.email xxx
</code></pre></div><p>如果使用了<code>--global</code>，那么该命令只需要运行一次，因为之后无论你在该系统上做任何事情，Git都会使用那些信息。当你想针对特定项目使用不同的用户名称和邮件地址时，可以在那个项目目录下运行没有<code>--global</code>选项的命令来配置</p> <h4 id="检查配置信息"><a href="#检查配置信息" aria-hidden="true" class="header-anchor">#</a> 检查配置信息</h4> <p>git config --list</p> <p>列出所有Git当时能找到的配置</p> <p>你可能会看到重复的变量名，因为Git会从不同的文件同读取同一个配置。这种情况下，Git会使用它找到的每一个变量的最后一个配置</p> <p>git config <code>&lt;key&gt;</code> 来检查Git的某一项配置</p> <h3 id="记录每次更新到仓库"><a href="#记录每次更新到仓库" aria-hidden="true" class="header-anchor">#</a> 记录每次更新到仓库</h3> <h4 id="状态简览"><a href="#状态简览" aria-hidden="true" class="header-anchor">#</a> 状态简览</h4> <p>git status -s/--short</p> <h4 id="跳过使用暂存区域"><a href="#跳过使用暂存区域" aria-hidden="true" class="header-anchor">#</a> 跳过使用暂存区域</h4> <p>git commit -a</p> <h4 id="移除文件"><a href="#移除文件" aria-hidden="true" class="header-anchor">#</a> 移除文件</h4> <p>git rm</p> <p>git rm 命令后面可以列出文件或者目录的名字，也可以使用glob模式</p> <h4 id="移动文件"><a href="#移动文件" aria-hidden="true" class="header-anchor">#</a> 移动文件</h4> <p>git mv</p> <p>可用来重命名</p> <h3 id="查看提交历史"><a href="#查看提交历史" aria-hidden="true" class="header-anchor">#</a> 查看提交历史</h3> <p>git log</p> <p>git log -p 用来显示每次提交的内容差异</p> <p>git log -stat 每次提交的简略统计信息</p> <h4 id="限制输出长度"><a href="#限制输出长度" aria-hidden="true" class="header-anchor">#</a> 限制输出长度</h4> <p>git log -<code>&lt;n&gt;</code> 表示仅显示最近的若干条提交</p> <p>--since/after</p> <p>--until/before</p> <p>--author 显示指定作者的提交</p> <p>--grep 搜索提交说明中的关键字</p> <h3 id="撤销操作"><a href="#撤销操作" aria-hidden="true" class="header-anchor">#</a> 撤销操作</h3> <p>git commit --amend</p> <p>这个命令会将暂存区中的文件提交。如果自上次提交以来你还未做任何修改，那么快照会保持不变。而你所修改的只是提交信息</p> <h4 id="取消暂存文件"><a href="#取消暂存文件" aria-hidden="true" class="header-anchor">#</a> 取消暂存文件</h4> <p>git reset HEAD <code>&lt;file&gt;</code></p> <h4 id="撤销对文件的修改"><a href="#撤销对文件的修改" aria-hidden="true" class="header-anchor">#</a> 撤销对文件的修改</h4> <p>git checkout -- <code>&lt;file&gt;</code></p> <h3 id="远程仓库的使用"><a href="#远程仓库的使用" aria-hidden="true" class="header-anchor">#</a> 远程仓库的使用</h3> <h4 id="查看远程仓库"><a href="#查看远程仓库" aria-hidden="true" class="header-anchor">#</a> 查看远程仓库</h4> <p>git remote -v 显示远程仓库使用的Git保存的简写与其对应的URL</p> <p>git remote show [remote-name]</p> <h4 id="添加远程仓库"><a href="#添加远程仓库" aria-hidden="true" class="header-anchor">#</a> 添加远程仓库</h4> <p>git remote add <code>&lt;shortname&gt;</code> url 添加一个新的远程Git仓库，同时指定一个你可以轻松引用的简写</p> <h4 id="从远程仓库中抓取与拉取"><a href="#从远程仓库中抓取与拉取" aria-hidden="true" class="header-anchor">#</a> 从远程仓库中抓取与拉取</h4> <p>git fetch [remote-name]</p> <p>git pull</p> <h4 id="推送到远程仓库"><a href="#推送到远程仓库" aria-hidden="true" class="header-anchor">#</a> 推送到远程仓库</h4> <p>git push origin master</p> <h4 id="远程仓库的移除与重命名"><a href="#远程仓库的移除与重命名" aria-hidden="true" class="header-anchor">#</a> 远程仓库的移除与重命名</h4> <p>git remote rename [old_name] [new_name]</p> <p>git remote rm [remote-name]</p> <h3 id="打标签"><a href="#打标签" aria-hidden="true" class="header-anchor">#</a> 打标签</h3> <p>git tag</p> <h4 id="创建标签"><a href="#创建标签" aria-hidden="true" class="header-anchor">#</a> 创建标签</h4> <p>Git使用两种主要类型的标签: 轻量标签与附注标签</p> <h4 id="附注标签"><a href="#附注标签" aria-hidden="true" class="header-anchor">#</a> 附注标签</h4> <p>git tag -a [tag] -m [message]</p> <h4 id="轻量标签"><a href="#轻量标签" aria-hidden="true" class="header-anchor">#</a> 轻量标签</h4> <p>git tag [message]</p> <h4 id="后期打标签"><a href="#后期打标签" aria-hidden="true" class="header-anchor">#</a> 后期打标签</h4> <p>git tag -a [tag] [hash]</p> <h4 id="共享标签"><a href="#共享标签" aria-hidden="true" class="header-anchor">#</a> 共享标签</h4> <p>git push origin [tag]</p> <p>一次性推送多个标签</p> <p>git push --tags</p> <h4 id="检出标签"><a href="#检出标签" aria-hidden="true" class="header-anchor">#</a> 检出标签</h4> <p>git checkout -b [branchname] [tag]</p> <h3 id="git别名"><a href="#git别名" aria-hidden="true" class="header-anchor">#</a> Git别名</h3> <p>Git 并不会在你输入部分命令时自动推断出你想要的命令。如果不想每次都输入完整的 Git 命令，可以通过 git
config 文件来轻松地为每一个命令设置一个别名</p> <p>例如:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> config --global alias.co checkout
<span class="token function">git</span> config --global alias.br branch
<span class="token function">git</span> config --global alias.ci commit
<span class="token function">git</span> config --global alias.st status
</code></pre></div><h2 id="git分支"><a href="#git分支" aria-hidden="true" class="header-anchor">#</a> Git分支</h2> <h3 id="分支简介"><a href="#分支简介" aria-hidden="true" class="header-anchor">#</a> 分支简介</h3> <h4 id="分支创建"><a href="#分支创建" aria-hidden="true" class="header-anchor">#</a> 分支创建</h4> <p>git branch [branch-name]</p> <h4 id="分支切换"><a href="#分支切换" aria-hidden="true" class="header-anchor">#</a> 分支切换</h4> <p>git checkout [branch-name]</p> <h3 id="分支的新建与合并"><a href="#分支的新建与合并" aria-hidden="true" class="header-anchor">#</a> 分支的新建与合并</h3> <h4 id="新建分支"><a href="#新建分支" aria-hidden="true" class="header-anchor">#</a> 新建分支</h4> <p>git checkout -b [new_branch]</p> <p>新建一个分支并同时切换到那个分支上</p> <p>等于</p> <p>git branch [new_branch]
git checkout [new_branch]</p> <p>git merge --no-ff</p> <p>git branch -d</p> <h4 id="分支的合并"><a href="#分支的合并" aria-hidden="true" class="header-anchor">#</a> 分支的合并</h4> <p>需要指出的是，Git会自行决定选区哪一个提交作为最优的共同祖先，并以此作为合并的基础</p> <h4 id="遇到冲突时的分支合并"><a href="#遇到冲突时的分支合并" aria-hidden="true" class="header-anchor">#</a> 遇到冲突时的分支合并</h4> <h3 id="分支管理"><a href="#分支管理" aria-hidden="true" class="header-anchor">#</a> 分支管理</h3> <p>git branch -v --merged | --no-merged</p> <h3 id="分支开发工作流"><a href="#分支开发工作流" aria-hidden="true" class="header-anchor">#</a> 分支开发工作流</h3> <h4 id="长期分支"><a href="#长期分支" aria-hidden="true" class="header-anchor">#</a> 长期分支</h4> <h4 id="特性分支"><a href="#特性分支" aria-hidden="true" class="header-anchor">#</a> 特性分支</h4> <h3 id="远程分支"><a href="#远程分支" aria-hidden="true" class="header-anchor">#</a> 远程分支</h3> <h4 id="推送"><a href="#推送" aria-hidden="true" class="header-anchor">#</a> 推送</h4> <p>git push</p> <h4 id="跟踪分支"><a href="#跟踪分支" aria-hidden="true" class="header-anchor">#</a> 跟踪分支</h4> <p>git checkout --track origin/xxx</p> <p>git checkou -b xx origin/xxx</p> <p>git branch -u origin/xxx</p> <h4 id="拉取"><a href="#拉取" aria-hidden="true" class="header-anchor">#</a> 拉取</h4> <p>git fetch  get merge</p> <p>git pull</p> <h4 id="删除远程分支"><a href="#删除远程分支" aria-hidden="true" class="header-anchor">#</a> 删除远程分支</h4> <p>git push origin --delete [branch_name]</p> <h3 id="变基"><a href="#变基" aria-hidden="true" class="header-anchor">#</a> 变基</h3> <h4 id="变基的基本操作"><a href="#变基的基本操作" aria-hidden="true" class="header-anchor">#</a> 变基的基本操作</h4> <p>git checkout [current_branch]</p> <p>git rebase [target_branch]</p> <h4 id="更有趣的变基例子"><a href="#更有趣的变基例子" aria-hidden="true" class="header-anchor">#</a> 更有趣的变基例子</h4> <p>git rebase --onto [target_branch] [mid_branch] [current_branch]</p> <h4 id="变基的风险"><a href="#变基的风险" aria-hidden="true" class="header-anchor">#</a> 变基的风险</h4> <p>不要对在你的仓库外有副本的分支执行变基</p> <h3 id="用变基解决变基"><a href="#用变基解决变基" aria-hidden="true" class="header-anchor">#</a> 用变基解决变基</h3> <h2 id="服务器上的git"><a href="#服务器上的git" aria-hidden="true" class="header-anchor">#</a> 服务器上的Git</h2> <h3 id="协议"><a href="#协议" aria-hidden="true" class="header-anchor">#</a> 协议</h3> <h4 id="本地协议"><a href="#本地协议" aria-hidden="true" class="header-anchor">#</a> 本地协议</h4> <p>git clone /xxx/xxx.git</p> <p>git clone file:///xxx/xxx.git</p> <p>git remote add</p> <h4 id="http协议"><a href="#http协议" aria-hidden="true" class="header-anchor">#</a> HTTP协议</h4> <h4 id="ssh协议"><a href="#ssh协议" aria-hidden="true" class="header-anchor">#</a> SSH协议</h4> <h4 id="git协议"><a href="#git协议" aria-hidden="true" class="header-anchor">#</a> Git协议</h4> <h3 id="在服务器上搭建git"><a href="#在服务器上搭建git" aria-hidden="true" class="header-anchor">#</a> 在服务器上搭建Git</h3> <h3 id="生成ssh公钥"><a href="#生成ssh公钥" aria-hidden="true" class="header-anchor">#</a> 生成SSH公钥</h3> <p>默认情况下，用户的ssh密钥存储在其~/.ssh目录下</p> <p>ssh-keygen</p> <h2 id="分布式git"><a href="#分布式git" aria-hidden="true" class="header-anchor">#</a> 分布式Git</h2> <h3 id="维护项目"><a href="#维护项目" aria-hidden="true" class="header-anchor">#</a> 维护项目</h3> <h4 id="生成一个构建号"><a href="#生成一个构建号" aria-hidden="true" class="header-anchor">#</a> 生成一个构建号</h4> <p>如果你想为提交附上一个可读的名称，可以对其运行git describe命令</p> <p>Git将会给胡一个字符串，它由最近的标签名、自该标签之后的提交数目和你所描述的提交的部分SHA-1值构成</p> <h2 id="git工具"><a href="#git工具" aria-hidden="true" class="header-anchor">#</a> Git工具</h2> <h3 id="选择修订版本"><a href="#选择修订版本" aria-hidden="true" class="header-anchor">#</a> 选择修订版本</h3> <h4 id="简短的sha-1"><a href="#简短的sha-1" aria-hidden="true" class="header-anchor">#</a> 简短的SHA-1</h4> <p>Git 十分智能，你只需要提供 SHA-1 的前几个字符就可以获得对应的那次提交，当然你提供的 SHA-1 字符数量不得少于 4 个，并且没有歧义——也就是说，当前仓库中只有一个对象以这段 SHA-1 开头</p> <h4 id="引用日志"><a href="#引用日志" aria-hidden="true" class="header-anchor">#</a> 引用日志</h4> <p>git reflog 查看引用日志</p> <p>git log -g 查看类似git log输出格式的引用日志信息</p> <p>值得注意的是，引用日志只存在于本地仓库，一个记录你在你自己的仓库里做过什么的日志。
其他人拷贝的仓库里的引用日志不会和你的相同；而你新克隆一个仓库的时候，引用日志是空的，因为你在仓库里还没有操作。</p> <h4 id="祖先引用"><a href="#祖先引用" aria-hidden="true" class="header-anchor">#</a> 祖先引用</h4> <p>HEAD^</p> <p>HEAD~</p> <h4 id="提交区间"><a href="#提交区间" aria-hidden="true" class="header-anchor">#</a> 提交区间</h4> <h5 id="双点"><a href="#双点" aria-hidden="true" class="header-anchor">#</a> 双点</h5> <p>git log branch_A..branch_B 显示在A分之中而不在B中的提交</p> <h5 id="多点"><a href="#多点" aria-hidden="true" class="header-anchor">#</a> 多点</h5> <p>Git 允许你在任意引用前加上 ^ 字符或者 --not 来指明你不希望提交被包含其中的分支</p> <p>git log refA refB ^refC
git log refA refB --not refC</p> <h3 id="交互式暂存"><a href="#交互式暂存" aria-hidden="true" class="header-anchor">#</a> 交互式暂存</h3> <p>git add -i</p> <h3 id="储藏与清理"><a href="#储藏与清理" aria-hidden="true" class="header-anchor">#</a> 储藏与清理</h3> <p>git stash</p> <p>git stash apply 如果不指定储藏，Git认为指定的是最近的储藏</p> <p>git stash drop 移除贮藏</p> <p>git stash pop 应用贮藏并删除记录</p> <h3 id="搜索"><a href="#搜索" aria-hidden="true" class="header-anchor">#</a> 搜索</h3> <p>git grep</p> <p>从提交历史或者工作目录中查找一个字符串或者正则表达式</p> <h3 id="重写历史"><a href="#重写历史" aria-hidden="true" class="header-anchor">#</a> 重写历史</h3> <h4 id="修改最后一次提交"><a href="#修改最后一次提交" aria-hidden="true" class="header-anchor">#</a> 修改最后一次提交</h4> <p>git commit --amend 修改最后一次提交的提交信息</p> <h4 id="修改多个提交信息"><a href="#修改多个提交信息" aria-hidden="true" class="header-anchor">#</a> 修改多个提交信息</h4> <p>git rebase -i HEAD~n</p> <p>交互式变基</p> <h5 id="重新排序提交"><a href="#重新排序提交" aria-hidden="true" class="header-anchor">#</a> 重新排序提交</h5> <h5 id="压缩提交"><a href="#压缩提交" aria-hidden="true" class="header-anchor">#</a> 压缩提交</h5> <p>使用squash选项</p> <h5 id="拆分提交"><a href="#拆分提交" aria-hidden="true" class="header-anchor">#</a> 拆分提交</h5> <p>使用edit选项</p> <h5 id="核武器级选项-filter-branch"><a href="#核武器级选项-filter-branch" aria-hidden="true" class="header-anchor">#</a> 核武器级选项: filter-branch</h5> <h3 id="重置揭秘"><a href="#重置揭秘" aria-hidden="true" class="header-anchor">#</a> 重置揭秘</h3> <h4 id="三棵树"><a href="#三棵树" aria-hidden="true" class="header-anchor">#</a> 三棵树</h4> <table><thead><tr><th>树</th> <th>用途</th></tr></thead> <tbody><tr><td>HEAD</td> <td>上一次提交的快照，下一次提交的父结点</td></tr> <tr><td>Index</td> <td>预期的下一次提交的快照</td></tr> <tr><td>Working Directory</td> <td>沙盒</td></tr></tbody></table> <h4 id="head"><a href="#head" aria-hidden="true" class="header-anchor">#</a> HEAD</h4> <p>HEAD是当前分支引用的指针，它总是指向该分支上的最后一次提交，这表示HEAD将是下一次提交的父结点</p> <p>通常，理解HEAD的最简方式，就是将它看作你的上一次提交的快照</p> <h5 id="索引"><a href="#索引" aria-hidden="true" class="header-anchor">#</a> 索引</h5> <p>索引是你的预期的下一次提交。我们也会将这个概念引用为Git的“暂存区域”，这就是当你运行git commit时Git看起来的样子</p> <p>Git将上一次检出到工作目录中的所有文件填充到索引去，它们看起来就像最初被检出时的样子</p> <h5 id="工作目录"><a href="#工作目录" aria-hidden="true" class="header-anchor">#</a> 工作目录</h5> <p>另外两颗树以一种高效但并不直观的方式，将它们的内容存储在.git文件夹中。工作目录会将他们解包为实际的文件以便编辑</p> <h5 id="重置的作用"><a href="#重置的作用" aria-hidden="true" class="header-anchor">#</a> 重置的作用</h5> <h3 id="高级合并"><a href="#高级合并" aria-hidden="true" class="header-anchor">#</a> 高级合并</h3> <h4 id="合并冲突"><a href="#合并冲突" aria-hidden="true" class="header-anchor">#</a> 合并冲突</h4> <h5 id="中断一次合并"><a href="#中断一次合并" aria-hidden="true" class="header-anchor">#</a> 中断一次合并</h5> <p>git merge --abort</p> <h4 id="撤销合并"><a href="#撤销合并" aria-hidden="true" class="header-anchor">#</a> 撤销合并</h4> <h5 id="修复引用"><a href="#修复引用" aria-hidden="true" class="header-anchor">#</a> 修复引用</h5> <p>git reset --hard HEAD~</p> <p>这种方法的缺点是它会重写历史，在一个共享的仓库中这会造成问题</p> <h5 id="还原提交"><a href="#还原提交" aria-hidden="true" class="header-anchor">#</a> 还原提交</h5> <p>git revert -m 1 HEAD</p> <p>-m 1 标记指出&quot;mainline&quot;需要被保留下来的父节点</p> <h4 id="其他类型的合并"><a href="#其他类型的合并" aria-hidden="true" class="header-anchor">#</a> 其他类型的合并</h4> <p>到目前为止我们介绍的都是通过一个叫做&quot;recursive&quot;的合并策略来正常处理的两个分支的正常合并</p> <h5 id="我们的或者他们的偏好"><a href="#我们的或者他们的偏好" aria-hidden="true" class="header-anchor">#</a> 我们的或者他们的偏好</h5> <p>默认情况下，当Git看到两个分支合并中的冲突时，它会将合并冲突标记添加到你的代码中并标记文件为冲突状态来让你解决。如果你希望Git简单地选择特定的一边并忽略另外一边而不是让你手动合并冲突，你可以传递给merge命令一个 -Xours或-Xtheirs参数</p> <p>如果 Git 看到这个，它并不会增加冲突标记。任何可以合并的区别，它会直接合并。任何有冲突的区别，它会简单地选择你全局指定的一边，包括二进制文件</p> <h5 id="子树合并"><a href="#子树合并" aria-hidden="true" class="header-anchor">#</a> 子树合并</h5> <h3 id="rerere"><a href="#rerere" aria-hidden="true" class="header-anchor">#</a> Rerere</h3> <p>git rerere功能是一个隐藏的功能。正如它的名字 “reuse recorded resolution” 所指，它允许你让Git记住解决一个块冲突的方法，这样在下一次看到相同冲突时，Git 可以为你自动地解决它</p> <p>为了启用rerere功能，仅仅需要运行这个配置选项：</p> <p>git config --global rerere.enabled true</p> <h3 id="使用git调试"><a href="#使用git调试" aria-hidden="true" class="header-anchor">#</a> 使用Git调试</h3> <h4 id="文件标注"><a href="#文件标注" aria-hidden="true" class="header-anchor">#</a> 文件标注</h4> <p>git blame 查看文件每一行的最后修改时间以及是被谁修改的</p> <p>-L 选项来限制输出返回在 m,n行之间</p> <p>-C 找出文件中从别的地方复制过来的代码片段的原始出处</p> <h4 id="二分查找"><a href="#二分查找" aria-hidden="true" class="header-anchor">#</a> 二分查找</h4> <p>git bisect 对提交历史进行二分查找来帮助你尽快找到时哪一个提交引入了问题</p> <p>git bisect start [终点] [起点] 使用后会跳转到中间提交</p> <p>git bisect bad/good 标记本次提交是否有问题</p> <p>git bisect reset 退出差错，回到最近一次的代码提交</p> <h3 id="子模块（没看懂）"><a href="#子模块（没看懂）" aria-hidden="true" class="header-anchor">#</a> 子模块（没看懂）</h3> <p>子模块允许你将一个 Git 仓库作为另一个 Git 仓库的子目录。它能让你将另一
个仓库克隆到自己的项目中，同时还保持提交的独立</p> <h3 id="打包"><a href="#打包" aria-hidden="true" class="header-anchor">#</a> 打包</h3> <p>git bundle</p> <p>git bundle create [文件名] [打包区间] 创建打包文件</p> <p>git bundle verify 检查一个文件是否是一个合法的Git包，是否拥有共同的祖先来导入</p> <h3 id="替换"><a href="#替换" aria-hidden="true" class="header-anchor">#</a> 替换</h3> <p>git replace</p> <h3 id="凭证存储"><a href="#凭证存储" aria-hidden="true" class="header-anchor">#</a> 凭证存储</h3> <ul><li>默认所有都不缓存。每一次连接都会询问你的用户名和密码</li> <li>cache 模式会将凭证存放在内存中一段时间。密码永远不会被存储在磁盘中，并且在15分钟后从内存中清除</li> <li>store 模式会将凭证用明文的形式存放在磁盘中，并且永不过期</li> <li>Mac还有一种osxkeychain模式，会将凭证缓存到你系统用户的钥匙串中</li></ul> <h2 id="自定义git"><a href="#自定义git" aria-hidden="true" class="header-anchor">#</a> 自定义Git</h2> <h3 id="配置git"><a href="#配置git" aria-hidden="true" class="header-anchor">#</a> 配置Git</h3> <p>/etc/gitconfig</p> <p>该文件含有系统里每位用户及他们所拥有的仓库的配置值</p> <p>git config --system 读写该文件</p> <p>~/.gitconfig</p> <p>接下来Git会检查每个用户的Git配置文件</p> <p>git config --global 读写该文件</p> <p>.git/config</p> <p>最后检查你正在操作的版本库所对应的Git目录下的配置文件</p> <p>以上三个层次中每层的配置（系统、全局、本地）都会覆盖掉上一层额度配置</p> <h4 id="客户端基本配置"><a href="#客户端基本配置" aria-hidden="true" class="header-anchor">#</a> 客户端基本配置</h4> <p>core.editor</p> <p>git config --global core.editor emacs</p> <p>使用core.editor选项来修改默认的编辑器</p> <p>commit.template</p> <p>如果把此项指定为你的系统上的某个文件的路径，当你提交得到时候，Git会使用该文件的内容作为提交的默认信息</p> <p>git config --global commit.template ~/.gitmessage.txt</p> <p>core.paper</p> <p>该配置项指定诸如log和diff等命令所使用的分页器</p> <p>user.signingkey</p> <p>如果你要创建经签署的含附注的标签，那么把你的GPG签署密钥设置为配置项会更好</p> <p>git config --global user.signingkey <code>&lt;gpg-key-id&gt;</code></p> <p>core.excludesfile</p> <p>这个配置允许你设置类似于全局生效的.gitignore文件</p> <p>创建 ~/.gitignore 然后运行 git config --global core.excludesfile ~/.gitignore_global，Git将把那些文件永远地拒之门外</p> <p>help.autocorrect</p> <p>如果你把help.autocorrect设置成1，那么只要有一个命令被模糊匹配到了，Git会自动运行该命令</p> <h4 id="git中的着色"><a href="#git中的着色" aria-hidden="true" class="header-anchor">#</a> Git中的着色</h4> <p>color.ui</p> <p>color.*</p> <h4 id="格式化与多余的空白字符"><a href="#格式化与多余的空白字符" aria-hidden="true" class="header-anchor">#</a> 格式化与多余的空白字符</h4> <p>core.autocrlf</p> <p>Window使用回车（CR）和换行（LF）两个字符来结束一行，而Mac和Linudx只使用（LF）一个字符
Git可以在你提交时自动把回车和换行转换成换行
如果是在Windows系统上，把它设置成true，这样在检出代码时，换行会被转换成回车和换行</p> <p>git config --global core.autocrlf true</p> <p>git config --global core.autocrlf input 在提交时把回车和换行转换成换行，检出时不转换</p> <p>core.whitespace</p> <p>Git预先设置了一些选项来探测和修正多余空白字符的问题</p> <h4 id="服务端配置"><a href="#服务端配置" aria-hidden="true" class="header-anchor">#</a> 服务端配置</h4> <p>receive.fsckObjects</p> <p>receive.denyNonFastForwards</p> <p>receive.denyDeletes</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2022/2/15 下午3:38:50</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/readingNotes/HTTP权威指南.html" class="prev">
        HTTP权威指南
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a3917c08.js" defer></script><script src="/assets/js/2.143bf0e2.js" defer></script><script src="/assets/js/32.633ca84c.js" defer></script>
  </body>
</html>
